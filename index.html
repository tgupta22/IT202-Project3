<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
    
    <body>
  <canvas id="canvas" width="600" height="600"></canvas>

<style>
    
/*         
    
body {
  background-image: url('Space.jpg');
} */
body {
    
  background-image: url('Space.jpg');
  padding:0;
  margin:0;
 
}
canvas {
  display:block;
  margin:30px auto 0;
  border:1px dashed #ccc;
 background-image: url('Space.jpg');
}
</style>
<script>
    
 var background = new Image();
background.src = "Space.jpg";
var canvas,
    ctx,
    lives = 0,
    health = 0,
    level = 1,
    score = 0,
    width = 600,
    height = 600,
    enemyTotal = 5,
    enemies = [],
    enemy_x = 50,
    enemy_y = -45,
    enemy_w = 50,
    enemy_h = 50,
    speed = 3,
    rightKey = false,
    leftKey = false,
    upKey = false,
    downKey = false,
    ship_x = (width / 2) - 25, ship_y = height - 75, ship_w = 50, ship_h = 50;

    function draw()
    {
        ctx.drawImage(background, 0, 0);
        
        window.requestAnimationFrame(draw);
    }
    
    window.requestAnimationFrame(draw);
for (var i = 0; i < enemyTotal; i++) {
 enemies.push([enemy_x, enemy_y, enemy_w, enemy_h, speed]);
 enemy_x += enemy_w + 60;
}

//clearCanvas = myGameArea
function clearCanvas() {

  

 ctx.clearRect(0,0,width,height);
}

function drawEnemies() {
 for (var i = 0; i < enemies.length; i++) {
                ctx.fillStyle = '#f00';
   ctx.fillRect(enemies[i][0], enemies[i][1], enemy_w, enemy_h);
 }
}

function drawShip() {
 if (rightKey) ship_x += 5;
 else if (leftKey) ship_x -= 5;
 if (upKey) ship_y -= 5;
 else if (downKey) ship_y += 5;
 if (ship_x <= 0) ship_x = 0;
 if ((ship_x + ship_w) >= width) ship_x = width - ship_w;
  if (ship_y <= 0) ship_y = 0;
 if ((ship_y + ship_h) >= height) ship_y = height - ship_h;
  ctx.fillStyle = '#0f0';
  ctx.fillRect(ship_x, ship_y, ship_w, ship_h);
}

function moveEnemies() {
  for (var i = 0; i < enemies.length; i++) {
   if (enemies[i][1] < height) {
     enemies[i][1] += enemies[i][4];
   } else if (enemies[i][1] > height - 1) {
      enemies[i][1] = -45;
    }
  }
}

function init() {
  canvas = document.getElementById('canvas');
  ctx = canvas.getContext('2d');
  setInterval(gameLoop, 25);
  document.addEventListener('keydown', keyDown, false);
  document.addEventListener('keyup', keyUp, false);
}

// Function for the score.

function startGame()
{
  myScore = new component("30px", "Consolas", "red", 280, 40, "text");
  myGameOver = new component("30px", "Consolas", "red", 280, 40, "text");
   myGameArea.start();

}

function component(width, height, color, x, y, type)
{

this.type = type;
this.score = 0;
this.width = width;
this.height = height;
this.speedX = 0;
this.speedY = 0;
this.x = x;
this.y = y;

this.update = function(){

  ctx = myGameArea.context;

  if (this.type == "text")
  {
    ctx.font = this.width + " " + this.height;
    ctx.fillStyle = color;
    ctx.fillText(this.text, this.x, this.y);

  }
}

this.crashWith = function(otherobj)
{
  var myleft = this.x;
  var myright = this.x + (this.width);
  var mytop = this.y;
  var mybottom = this.y + (this.height);
  var otherleft = otherobj.x;
  var otherright = otherobj.x + (otherobj.width);
  var othertop = otherobj.y;
  var otherbottom = otherobj.y + (otherobj.height);

  var crash = true;
  if ((mybottm < othertop ) || (mytop > otherbottm) || (myright < otherleft) || (myleft > otherright))
  {

    crash = false;
  }

  //myScore.text = "SCORE:" + 

  return crash;
}

  // else {

  //   ctx.fillStyle = color;
  //   ctx.fillRect(this.x, this.y, this.width, this.height);
  // }
}

//  Function for Collison Detection

    function collisionDetection()
    {
        
        for(var c = 0; c<)
    }
    
  // Adding the Lives function          
    
    function drawLives()
            
       {

        ctx.font = "16px Arial";
        ctx.textAlign = ' center' ;     
        ctx.fillStyle = "0095DD";
        ctx.fillText("Life: " +lives, 20, 20);
        
    }     
    
   
// Adding the Score Function

    
function drawScore()
    {
        
//         ctx.beginPath();
//         ctx.moveTo(x,0);
//         ctx.lineTo(x, canvas.height);
//         ctx.stroke();

        ctx.font = "16px Arial";
    
        ctx.textAlign = 'end ';
        ctx.fillStyle = "0095DD";
        ctx.fillText("Score: " +score, canvas.width-65, 20);
  
        
        
//          ctx.font = "16px Arial";
//         ctx.textAlign = ' center' ;     
//         ctx.fillStyle = "0095DD";
//         ctx.fillText("Life: " +lives, 8, 20);
    }
function gameLoop() {
  clearCanvas();
  moveEnemies();
  drawEnemies();
  drawShip();
  drawScore();  
  drawLives();  
   // draw();
}

function keyDown(e) {
  if (e.keyCode == 39) rightKey = true;
  else if (e.keyCode == 37) leftKey = true;
  if (e.keyCode == 38) upKey = true;
  else if (e.keyCode == 40) downKey = true;
}

function keyUp(e) {
  if (e.keyCode == 39) rightKey = false;
  else if (e.keyCode == 37) leftKey = false;
  if (e.keyCode == 38) upKey = false;
  else if (e.keyCode == 40) downKey = false;
}

window.onload = init;
</script>
</head>


</body>
</html>